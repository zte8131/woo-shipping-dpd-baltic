!function(t,o,e){"use strict";function n(){t(e.body).on("change","[name='payment_method']",function(){t(e.body).trigger("update_checkout")})}function d(o){let n={action:"set_checkout_session",cod:o,fe_ajax_nonce:dpd.fe_ajax_nonce},d=null;"undefined"!=typeof wc_checkout_params?d=wc_checkout_params:"undefined"!=typeof wc_cart_params&&(d=wc_cart_params),null!==d&&t.post(d.ajax_url,n,function(){setTimeout(function(){t(e.body).trigger("update_checkout")},300)})}function a(t){return t.name}t(function(){let o,n;o=t("#wc_shipping_dpd_parcels_terminal"),n=0,n=o.find(":selected").data("cod"),t(e).on("change","#wc_shipping_dpd_parcels_terminal",function(){d(n=t(this).find(":selected").data("cod"))}),t(e.body).on("click",'input[name="shipping_method[0]"]',function(){d(1)}),t(e.body).on("change","[name='wc_shipping_dpd_home_delivery_shifts']",function(){t(e.body).trigger("update_checkout")}),function o(){let n=t("#wc_shipping_dpd_parcels_terminal"),a=n.val();n.text();let c=n.attr("data-cod");""!==a&&(t(".custom-dropdown .selected-option").text(a),void 0!=c&&(t(".custom-dropdown .selected-option").attr("data-cod",c),d(c))),t(e).on("click",function(o){t(o.target).closest(".custom-dropdown").length||t(".custom-dropdown .dropdown-list").removeClass("active")}),t(e.body).on("click",".custom-dropdown .dropdown-list .pudo",function(){var o=t(this).attr("data-value"),e=t(this).attr("data-cod"),n=t(this).text();t(this).closest(".custom-dropdown").find(".selected-option").text(n),t(this).closest(".custom-dropdown").find("input").val(o),t("#wc_shipping_dpd_parcels_terminal").val(o),t(".custom-dropdown .selected-option").attr("data-cod",e),t(this).closest(".dropdown-list").removeClass("active")}),t(e.body).on("click",".custom-dropdown .selected-option",function(){t(this).siblings(".dropdown-list").toggleClass("active")})}(),t(e.body).on("click","#load-more-btn",function(){let o,e,n;o=null,e=t("#load-more-btn"),"undefined"!=typeof wc_checkout_params?o=wc_checkout_params:"undefined"!=typeof wc_cart_params&&(o=wc_cart_params),t(".load-more").text("Loading..."),n=parseInt(e.attr("load-more-page")||1),n+=1,t.ajax({url:o.ajax_url,type:"POST",data:{action:"load_more_items",page:n},success:function(o){var d,a,c,i;let s,r;t(".load-more").text("Load More"),o.success?(s=(a=d=o.data.listPudos,c={},i=[],a.forEach(function(t){c[t.city]||"1"!==t.status||(c[t.city]=[]),"1"===t.status&&c[t.city].push(t)}),Object.keys(c).sort().forEach(function(t){let o={city:t,items:c[t]};i.push(o)}),i),r="",s.forEach(function(t){var o;let e;r+=(o=t,e='<li class="group-pudo">'+o.city+"</li>",o.items.forEach(function(t){e+='<li class="pudo" data-cod="" data-value="'+t.parcelshop_id+'">'+t.company+"</li>"}),e)}),t(".custom-dropdown .dropdown-list li:last").after(r),e.attr("load-more-page",n),o.data.hasMore||e.addClass("hidden")):console.error("Error:",o.data)},error:function(o){t(".load-more").text("Load More"),console.error("AJAX Error:",o)}})})})}(window.jQuery,window,document);